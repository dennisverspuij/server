{"version":3,"file":"files_sharing-init.js?v=3ab2da551eed9e29b3ba","mappings":"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","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/load script","webpack:///nextcloud/apps/files_sharing/src/services/SharingService.ts","webpack:///nextcloud/apps/files_sharing/src/views/shares.ts","webpack:///nextcloud/apps/files_sharing/src/new/newFileRequest.ts","webpack:///nextcloud/apps/files_sharing/src/actions/acceptShareAction.ts","webpack:///nextcloud/apps/files_sharing/src/actions/openInFilesAction.ts","webpack:///nextcloud/apps/files_sharing/src/actions/rejectShareAction.ts","webpack:///nextcloud/apps/files_sharing/src/actions/restoreShareAction.ts","webpack:///nextcloud/apps/files/src/logger.js","webpack:///nextcloud/apps/files/src/actions/sidebarAction.ts","webpack:///nextcloud/apps/files_sharing/src/utils/AccountIcon.ts","webpack://nextcloud/./apps/files_sharing/src/actions/sharingStatusAction.scss?3ea7","webpack:///nextcloud/apps/files_sharing/src/actions/sharingStatusAction.ts","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts","webpack:///nextcloud/apps/files/src/composables/useNavigation.ts","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?8db2","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?64e4","webpack:///nextcloud/apps/files_sharing/src/filters/AccountFilter.ts","webpack:///nextcloud/apps/files_sharing/src/init.ts","webpack:///nextcloud/apps/files_sharing/src/services/ConfigService.ts","webpack:///nextcloud/apps/files_sharing/src/services/logger.ts","webpack:///nextcloud/apps/files_sharing/src/actions/sharingStatusAction.scss","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=style&index=0&id=7eeabafe&prod&scoped=true&lang=scss","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/get javascript chunk filename","webpack:///nextcloud/webpack/runtime/global","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/publicPath","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"nextcloud:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n// TODO: Fix this instead of disabling ESLint!!!\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Folder, File, Permission } from '@nextcloud/files';\nimport { generateOcsUrl, generateRemoteUrl } from '@nextcloud/router';\nimport { getCurrentUser } from '@nextcloud/auth';\nimport axios from '@nextcloud/axios';\nimport logger from './logger';\nexport const rootPath = `/files/${getCurrentUser()?.uid}`;\nconst headers = {\n    'Content-Type': 'application/json',\n};\nconst ocsEntryToNode = async function (ocsEntry) {\n    try {\n        // Federated share handling\n        if (ocsEntry?.remote_id !== undefined) {\n            const mime = (await import('mime')).default;\n            // This won't catch files without an extension, but this is the best we can do\n            ocsEntry.mimetype = mime.getType(ocsEntry.name);\n            ocsEntry.item_type = ocsEntry.mimetype ? 'file' : 'folder';\n            // Need to set permissions to NONE for federated shares\n            ocsEntry.item_permissions = Permission.NONE;\n            ocsEntry.permissions = Permission.NONE;\n            ocsEntry.uid_owner = ocsEntry.owner;\n            // TODO: have the real display name stored somewhere\n            ocsEntry.displayname_owner = ocsEntry.owner;\n        }\n        const isFolder = ocsEntry?.item_type === 'folder';\n        const hasPreview = ocsEntry?.has_preview === true;\n        const Node = isFolder ? Folder : File;\n        // If this is an external share that is not yet accepted,\n        // we don't have an id. We can fallback to the row id temporarily\n        const fileid = ocsEntry.file_source || ocsEntry.id;\n        // Generate path and strip double slashes\n        const path = ocsEntry?.path || ocsEntry.file_target || ocsEntry.name;\n        const source = generateRemoteUrl(`dav/${rootPath}/${path}`.replaceAll(/\\/\\//gm, '/'));\n        // Prefer share time if more recent than item mtime\n        let mtime = ocsEntry?.item_mtime ? new Date((ocsEntry.item_mtime) * 1000) : undefined;\n        if (ocsEntry?.stime > (ocsEntry?.item_mtime || 0)) {\n            mtime = new Date((ocsEntry.stime) * 1000);\n        }\n        return new Node({\n            id: fileid,\n            source,\n            owner: ocsEntry?.uid_owner,\n            mime: ocsEntry?.mimetype || 'application/octet-stream',\n            mtime,\n            size: ocsEntry?.item_size,\n            permissions: ocsEntry?.item_permissions || ocsEntry?.permissions,\n            root: rootPath,\n            attributes: {\n                ...ocsEntry,\n                'has-preview': hasPreview,\n                // Also check the sharingStatusAction.ts code\n                'owner-id': ocsEntry?.uid_owner,\n                'owner-display-name': ocsEntry?.displayname_owner,\n                'share-types': ocsEntry?.share_type,\n                favorite: ocsEntry?.tags?.includes(window.OC.TAG_FAVORITE) ? 1 : 0,\n            },\n        });\n    }\n    catch (error) {\n        logger.error('Error while parsing OCS entry', { error });\n        return null;\n    }\n};\nconst getShares = function (shareWithMe = false) {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/shares');\n    return axios.get(url, {\n        headers,\n        params: {\n            shared_with_me: shareWithMe,\n            include_tags: true,\n        },\n    });\n};\nconst getSharedWithYou = function () {\n    return getShares(true);\n};\nconst getSharedWithOthers = function () {\n    return getShares();\n};\nconst getRemoteShares = function () {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/remote_shares');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n};\nconst getPendingShares = function () {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/shares/pending');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n};\nconst getRemotePendingShares = function () {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/remote_shares/pending');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n};\nconst getDeletedShares = function () {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/deletedshares');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n};\n/**\n * Group an array of objects (here Nodes) by a key\n * and return an array of arrays of them.\n * @param nodes\n * @param key\n */\nconst groupBy = function (nodes, key) {\n    return Object.values(nodes.reduce(function (acc, curr) {\n        (acc[curr[key]] = acc[curr[key]] || []).push(curr);\n        return acc;\n    }, {}));\n};\nexport const getContents = async (sharedWithYou = true, sharedWithOthers = true, pendingShares = false, deletedshares = false, filterTypes = []) => {\n    const promises = [];\n    if (sharedWithYou) {\n        promises.push(getSharedWithYou(), getRemoteShares());\n    }\n    if (sharedWithOthers) {\n        promises.push(getSharedWithOthers());\n    }\n    if (pendingShares) {\n        promises.push(getPendingShares(), getRemotePendingShares());\n    }\n    if (deletedshares) {\n        promises.push(getDeletedShares());\n    }\n    const responses = await Promise.all(promises);\n    const data = responses.map((response) => response.data.ocs.data).flat();\n    let contents = (await Promise.all(data.map(ocsEntryToNode)))\n        .filter((node) => node !== null);\n    if (filterTypes.length > 0) {\n        contents = contents.filter((node) => filterTypes.includes(node.attributes?.share_type));\n    }\n    // Merge duplicate shares and group their attributes\n    // Also check the sharingStatusAction.ts code\n    contents = groupBy(contents, 'source').map((nodes) => {\n        const node = nodes[0];\n        node.attributes['share-types'] = nodes.map(node => node.attributes['share-types']);\n        return node;\n    });\n    return {\n        folder: new Folder({\n            id: 0,\n            source: generateRemoteUrl('dav' + rootPath),\n            owner: getCurrentUser()?.uid || null,\n        }),\n        contents,\n    };\n};\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { translate as t } from '@nextcloud/l10n';\nimport { View, getNavigation } from '@nextcloud/files';\nimport { ShareType } from '@nextcloud/sharing';\nimport AccountClockSvg from '@mdi/svg/svg/account-clock.svg?raw';\nimport AccountGroupSvg from '@mdi/svg/svg/account-group.svg?raw';\nimport AccountPlusSvg from '@mdi/svg/svg/account-plus.svg?raw';\nimport AccountSvg from '@mdi/svg/svg/account.svg?raw';\nimport DeleteSvg from '@mdi/svg/svg/delete.svg?raw';\nimport LinkSvg from '@mdi/svg/svg/link.svg?raw';\nimport { getContents } from '../services/SharingService';\nexport const sharesViewId = 'shareoverview';\nexport const sharedWithYouViewId = 'sharingin';\nexport const sharedWithOthersViewId = 'sharingout';\nexport const sharingByLinksViewId = 'sharinglinks';\nexport const deletedSharesViewId = 'deletedshares';\nexport const pendingSharesViewId = 'pendingshares';\nexport default () => {\n    const Navigation = getNavigation();\n    Navigation.register(new View({\n        id: sharesViewId,\n        name: t('files_sharing', 'Shares'),\n        caption: t('files_sharing', 'Overview of shared files.'),\n        emptyTitle: t('files_sharing', 'No shares'),\n        emptyCaption: t('files_sharing', 'Files and folders you shared or have been shared with you will show up here'),\n        icon: AccountPlusSvg,\n        order: 20,\n        columns: [],\n        getContents: () => getContents(),\n    }));\n    Navigation.register(new View({\n        id: sharedWithYouViewId,\n        name: t('files_sharing', 'Shared with you'),\n        caption: t('files_sharing', 'List of files that are shared with you.'),\n        emptyTitle: t('files_sharing', 'Nothing shared with you yet'),\n        emptyCaption: t('files_sharing', 'Files and folders others shared with you will show up here'),\n        icon: AccountSvg,\n        order: 1,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(true, false, false, false),\n    }));\n    Navigation.register(new View({\n        id: sharedWithOthersViewId,\n        name: t('files_sharing', 'Shared with others'),\n        caption: t('files_sharing', 'List of files that you shared with others.'),\n        emptyTitle: t('files_sharing', 'Nothing shared yet'),\n        emptyCaption: t('files_sharing', 'Files and folders you shared will show up here'),\n        icon: AccountGroupSvg,\n        order: 2,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, true, false, false),\n    }));\n    Navigation.register(new View({\n        id: sharingByLinksViewId,\n        name: t('files_sharing', 'Shared by link'),\n        caption: t('files_sharing', 'List of files that are shared by link.'),\n        emptyTitle: t('files_sharing', 'No shared links'),\n        emptyCaption: t('files_sharing', 'Files and folders you shared by link will show up here'),\n        icon: LinkSvg,\n        order: 3,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, true, false, false, [ShareType.Link]),\n    }));\n    Navigation.register(new View({\n        id: deletedSharesViewId,\n        name: t('files_sharing', 'Deleted shares'),\n        caption: t('files_sharing', 'List of shares you left.'),\n        emptyTitle: t('files_sharing', 'No deleted shares'),\n        emptyCaption: t('files_sharing', 'Shares you have left will show up here'),\n        icon: DeleteSvg,\n        order: 4,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, false, false, true),\n    }));\n    Navigation.register(new View({\n        id: pendingSharesViewId,\n        name: t('files_sharing', 'Pending shares'),\n        caption: t('files_sharing', 'List of unapproved shares.'),\n        emptyTitle: t('files_sharing', 'No pending shares'),\n        emptyCaption: t('files_sharing', 'Shares you have received but not approved will show up here'),\n        icon: AccountClockSvg,\n        order: 5,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, false, true, false),\n    }));\n};\n","import { Permission } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport FileUploadSvg from '@mdi/svg/svg/file-upload.svg?raw';\nimport Vue, { defineAsyncComponent } from 'vue';\nimport Config from '../services/ConfigService';\nconst NewFileRequestDialogVue = defineAsyncComponent(() => import('../components/NewFileRequestDialog.vue'));\nconst sharingConfig = new Config();\nexport const EntryId = 'file-request';\nexport const entry = {\n    id: EntryId,\n    displayName: t('files_sharing', 'Create file request'),\n    iconSvgInline: FileUploadSvg,\n    order: 30,\n    enabled(context) {\n        if ((context.permissions & Permission.SHARE) !== 0) {\n            // We need to have either link shares creation permissions\n            return sharingConfig.isPublicShareAllowed;\n        }\n        return false;\n    },\n    async handler(context, content) {\n        // Create document root\n        const mountingPoint = document.createElement('div');\n        mountingPoint.id = 'file-request-dialog';\n        document.body.appendChild(mountingPoint);\n        // Init vue app\n        const NewFileRequestDialog = new Vue({\n            name: 'NewFileRequestDialogRoot',\n            render: (h) => h(NewFileRequestDialogVue, {\n                props: {\n                    context,\n                    content,\n                },\n                on: {\n                    close: () => {\n                        NewFileRequestDialog.$destroy();\n                    },\n                },\n            }),\n            el: mountingPoint,\n        });\n    },\n};\n","import { emit } from '@nextcloud/event-bus';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { registerFileAction, FileAction } from '@nextcloud/files';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport axios from '@nextcloud/axios';\nimport CheckSvg from '@mdi/svg/svg/check.svg?raw';\nimport { pendingSharesViewId } from '../views/shares';\nexport const action = new FileAction({\n    id: 'accept-share',\n    displayName: (nodes) => n('files_sharing', 'Accept share', 'Accept shares', nodes.length),\n    iconSvgInline: () => CheckSvg,\n    enabled: (nodes, view) => nodes.length > 0 && view.id === pendingSharesViewId,\n    async exec(node) {\n        try {\n            const isRemote = !!node.attributes.remote;\n            const url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/pending/{id}', {\n                shareBase: isRemote ? 'remote_shares' : 'shares',\n                id: node.attributes.id,\n            });\n            await axios.post(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    },\n    async execBatch(nodes, view, dir) {\n        return Promise.all(nodes.map(node => this.exec(node, view, dir)));\n    },\n    order: 1,\n    inline: () => true,\n});\nregisterFileAction(action);\n","import { registerFileAction, FileAction, DefaultType, FileType } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { sharesViewId, sharedWithYouViewId, sharedWithOthersViewId, sharingByLinksViewId } from '../views/shares';\nexport const action = new FileAction({\n    id: 'open-in-files',\n    displayName: () => t('files_sharing', 'Open in Files'),\n    iconSvgInline: () => '',\n    enabled: (nodes, view) => [\n        sharesViewId,\n        sharedWithYouViewId,\n        sharedWithOthersViewId,\n        sharingByLinksViewId,\n        // Deleted and pending shares are not\n        // accessible in the files app.\n    ].includes(view.id),\n    async exec(node) {\n        const isFolder = node.type === FileType.Folder;\n        window.OCP.Files.Router.goToRoute(null, // use default route\n        {\n            view: 'files',\n            fileid: String(node.fileid),\n        }, {\n            // If this node is a folder open the folder in files\n            dir: isFolder ? node.path : node.dirname,\n            // otherwise if this is a file, we should open it\n            openfile: isFolder ? undefined : 'true',\n        });\n        return null;\n    },\n    // Before openFolderAction\n    order: -1000,\n    default: DefaultType.HIDDEN,\n});\nregisterFileAction(action);\n","import { emit } from '@nextcloud/event-bus';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { registerFileAction, FileAction } from '@nextcloud/files';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport axios from '@nextcloud/axios';\nimport CloseSvg from '@mdi/svg/svg/close.svg?raw';\nimport { pendingSharesViewId } from '../views/shares';\nexport const action = new FileAction({\n    id: 'reject-share',\n    displayName: (nodes) => n('files_sharing', 'Reject share', 'Reject shares', nodes.length),\n    iconSvgInline: () => CloseSvg,\n    enabled: (nodes, view) => {\n        if (view.id !== pendingSharesViewId) {\n            return false;\n        }\n        if (nodes.length === 0) {\n            return false;\n        }\n        // disable rejecting group shares from the pending list because they anyway\n        // land back into that same list after rejecting them\n        if (nodes.some(node => node.attributes.remote_id\n            && node.attributes.share_type === ShareType.RemoteGroup)) {\n            return false;\n        }\n        return true;\n    },\n    async exec(node) {\n        try {\n            const isRemote = !!node.attributes.remote;\n            const url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/{id}', {\n                shareBase: isRemote ? 'remote_shares' : 'shares',\n                id: node.attributes.id,\n            });\n            await axios.delete(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    },\n    async execBatch(nodes, view, dir) {\n        return Promise.all(nodes.map(node => this.exec(node, view, dir)));\n    },\n    order: 2,\n    inline: () => true,\n});\nregisterFileAction(action);\n","import { emit } from '@nextcloud/event-bus';\nimport { FileAction, registerFileAction } from '@nextcloud/files';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport ArrowULeftTopSvg from '@mdi/svg/svg/arrow-u-left-top.svg?raw';\nimport axios from '@nextcloud/axios';\nimport { deletedSharesViewId } from '../views/shares';\nexport const action = new FileAction({\n    id: 'restore-share',\n    displayName: (nodes) => n('files_sharing', 'Restore share', 'Restore shares', nodes.length),\n    iconSvgInline: () => ArrowULeftTopSvg,\n    enabled: (nodes, view) => nodes.length > 0 && view.id === deletedSharesViewId,\n    async exec(node) {\n        try {\n            const url = generateOcsUrl('apps/files_sharing/api/v1/deletedshares/{id}', {\n                id: node.attributes.id,\n            });\n            await axios.post(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    },\n    async execBatch(nodes, view, dir) {\n        return Promise.all(nodes.map(node => this.exec(node, view, dir)));\n    },\n    order: 1,\n    inline: () => true,\n});\nregisterFileAction(action);\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getLoggerBuilder } from '@nextcloud/logger'\n\nexport default getLoggerBuilder()\n\t.setApp('files')\n\t.detectUser()\n\t.build()\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { Permission, View, FileAction } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport InformationSvg from '@mdi/svg/svg/information-variant.svg?raw';\nimport logger from '../logger.js';\nexport const ACTION_DETAILS = 'details';\nexport const action = new FileAction({\n    id: ACTION_DETAILS,\n    displayName: () => t('files', 'Open details'),\n    iconSvgInline: () => InformationSvg,\n    // Sidebar currently supports user folder only, /files/USER\n    enabled: (nodes) => {\n        // Only works on single node\n        if (nodes.length !== 1) {\n            return false;\n        }\n        if (!nodes[0]) {\n            return false;\n        }\n        // Only work if the sidebar is available\n        if (!window?.OCA?.Files?.Sidebar) {\n            return false;\n        }\n        return (nodes[0].root?.startsWith('/files/') && nodes[0].permissions !== Permission.NONE) ?? false;\n    },\n    async exec(node, view, dir) {\n        try {\n            // TODO: migrate Sidebar to use a Node instead\n            await window.OCA.Files.Sidebar.open(node.path);\n            // Silently update current fileid\n            window.OCP.Files.Router.goToRoute(null, { view: view.id, fileid: String(node.fileid) }, { ...window.OCP.Files.Router.query, dir }, true);\n            return null;\n        }\n        catch (error) {\n            logger.error('Error while opening sidebar', { error });\n            return false;\n        }\n    },\n    order: -50,\n});\n","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { generateUrl } from '@nextcloud/router';\nconst isDarkMode = window?.matchMedia?.('(prefers-color-scheme: dark)')?.matches === true\n    || document.querySelector('[data-themes*=dark]') !== null;\nexport const generateAvatarSvg = (userId, isGuest = false) => {\n    const url = isDarkMode ? '/avatar/{userId}/32/dark' : '/avatar/{userId}/32';\n    const avatarUrl = generateUrl(isGuest ? url : url + '?guestFallback=true', { userId });\n    return `<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\"\n\t\txmlns=\"http://www.w3.org/2000/svg\" class=\"sharing-status__avatar\">\n\t\t<image href=\"${avatarUrl}\" height=\"32\" width=\"32\" />\n\t</svg>`;\n};\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./sharingStatusAction.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./sharingStatusAction.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { Node, View, registerFileAction, FileAction, Permission } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport AccountGroupSvg from '@mdi/svg/svg/account-group.svg?raw';\nimport AccountPlusSvg from '@mdi/svg/svg/account-plus.svg?raw';\nimport LinkSvg from '@mdi/svg/svg/link.svg?raw';\nimport CircleSvg from '../../../../core/img/apps/circles.svg?raw';\nimport { getCurrentUser } from '@nextcloud/auth';\nimport { action as sidebarAction } from '../../../files/src/actions/sidebarAction';\nimport { generateAvatarSvg } from '../utils/AccountIcon';\nimport './sharingStatusAction.scss';\nconst isExternal = (node) => {\n    return node.attributes.remote_id !== undefined;\n};\nexport const action = new FileAction({\n    id: 'sharing-status',\n    displayName(nodes) {\n        const node = nodes[0];\n        const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n        const ownerId = node?.attributes?.['owner-id'];\n        if (shareTypes.length > 0\n            || (ownerId !== getCurrentUser()?.uid || isExternal(node))) {\n            return t('files_sharing', 'Shared');\n        }\n        return '';\n    },\n    title(nodes) {\n        const node = nodes[0];\n        const ownerId = node?.attributes?.['owner-id'];\n        const ownerDisplayName = node?.attributes?.['owner-display-name'];\n        // Mixed share types\n        if (Array.isArray(node.attributes?.['share-types']) && node.attributes?.['share-types'].length > 1) {\n            return t('files_sharing', 'Shared multiple times with different people');\n        }\n        if (ownerId && (ownerId !== getCurrentUser()?.uid || isExternal(node))) {\n            return t('files_sharing', 'Shared by {ownerDisplayName}', { ownerDisplayName });\n        }\n        return t('files_sharing', 'Show sharing options');\n    },\n    iconSvgInline(nodes) {\n        const node = nodes[0];\n        const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n        // Mixed share types\n        if (Array.isArray(node.attributes?.['share-types']) && node.attributes?.['share-types'].length > 1) {\n            return AccountPlusSvg;\n        }\n        // Link shares\n        if (shareTypes.includes(ShareType.Link)\n            || shareTypes.includes(ShareType.Email)) {\n            return LinkSvg;\n        }\n        // Group shares\n        if (shareTypes.includes(ShareType.Grup)\n            || shareTypes.includes(ShareType.RemoteGroup)) {\n            return AccountGroupSvg;\n        }\n        // Circle shares\n        if (shareTypes.includes(ShareType.Team)) {\n            return CircleSvg;\n        }\n        const ownerId = node?.attributes?.['owner-id'];\n        if (ownerId && (ownerId !== getCurrentUser()?.uid || isExternal(node))) {\n            return generateAvatarSvg(ownerId, isExternal(node));\n        }\n        return AccountPlusSvg;\n    },\n    enabled(nodes) {\n        if (nodes.length !== 1) {\n            return false;\n        }\n        const node = nodes[0];\n        const ownerId = node?.attributes?.['owner-id'];\n        const shareTypes = node.attributes?.['share-types'];\n        const isMixed = Array.isArray(shareTypes) && shareTypes.length > 0;\n        // If the node is shared multiple times with\n        // different share types to the current user\n        if (isMixed) {\n            return true;\n        }\n        // If the node is shared by someone else\n        if (ownerId && (ownerId !== getCurrentUser()?.uid || isExternal(node))) {\n            return true;\n        }\n        return (node.permissions & Permission.SHARE) !== 0;\n    },\n    async exec(node, view, dir) {\n        // You need read permissions to see the sidebar\n        if ((node.permissions & Permission.READ) !== 0) {\n            window.OCA?.Files?.Sidebar?.setActiveTab?.('sharing');\n            return sidebarAction.exec(node, view, dir);\n        }\n        return null;\n    },\n    inline: () => true,\n});\nregisterFileAction(action);\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(_setup.NcSelect,{staticClass:\"file-list-filter-accounts\",attrs:{\"aria-label-combobox\":_setup.t('files_sharing', 'Accounts'),\"multiple\":\"\",\"no-wrap\":\"\",\"options\":_setup.availableAccounts,\"placeholder\":_setup.t('files_sharing', 'Accounts'),\"user-select\":\"\"},model:{value:(_setup.selectedAccounts),callback:function ($$v) {_setup.selectedAccounts=$$v},expression:\"selectedAccounts\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"","import { getNavigation } from '@nextcloud/files';\nimport { onMounted, onUnmounted, shallowRef } from 'vue';\n/**\n * Composable to get the currently active files view from the files navigation\n */\nexport function useNavigation() {\n    const navigation = getNavigation();\n    const views = shallowRef(navigation.views);\n    const currentView = shallowRef(navigation.active);\n    /**\n     * Event listener to update the `currentView`\n     * @param event The update event\n     */\n    function onUpdateActive(event) {\n        currentView.value = event.detail;\n    }\n    /**\n     * Event listener to update all registered views\n     */\n    function onUpdateViews() {\n        views.value = navigation.views;\n    }\n    onMounted(() => {\n        navigation.addEventListener('update', onUpdateViews);\n        navigation.addEventListener('updateActive', onUpdateActive);\n    });\n    onUnmounted(() => {\n        navigation.removeEventListener('update', onUpdateViews);\n        navigation.removeEventListener('updateActive', onUpdateActive);\n    });\n    return {\n        currentView,\n        views,\n    };\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=7eeabafe&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=7eeabafe&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FileListFilterAccount.vue?vue&type=template&id=7eeabafe&scoped=true\"\nimport script from \"./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"\nimport style0 from \"./FileListFilterAccount.vue?vue&type=style&index=0&id=7eeabafe&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7eeabafe\",\n  null\n  \n)\n\nexport default component.exports","import { FileListFilter, registerFileListFilter } from '@nextcloud/files';\nimport Vue from 'vue';\nimport FileListFilterAccount from '../components/FileListFilterAccount.vue';\n/**\n * File list filter to filter by owner / sharee\n */\nclass AccountFilter extends FileListFilter {\n    currentInstance;\n    filterAccounts;\n    constructor() {\n        super('files_sharing:account', 100);\n    }\n    mount(el) {\n        if (this.currentInstance) {\n            this.currentInstance.$destroy();\n        }\n        const View = Vue.extend(FileListFilterAccount);\n        this.currentInstance = new View({\n            el,\n        })\n            .$on('update:accounts', this.setAccounts.bind(this))\n            .$mount();\n    }\n    filter(nodes) {\n        if (!this.filterAccounts || this.filterAccounts.length === 0) {\n            return nodes;\n        }\n        const userIds = this.filterAccounts.map(({ uid }) => uid);\n        // Filter if the owner of the node is in the list of filtered accounts\n        return nodes.filter((node) => {\n            const sharees = node.attributes.sharees?.sharee;\n            // If the node provides no information lets keep it\n            if (!node.owner && !sharees) {\n                return true;\n            }\n            // if the owner matches\n            if (node.owner && userIds.includes(node.owner)) {\n                return true;\n            }\n            // Or any of the sharees (if only one share this will be an object, otherwise an array. So using `.flat()` to make it always an array)\n            if (sharees && [sharees].flat().some(({ id }) => userIds.includes(id))) {\n                return true;\n            }\n            // Not a valid node for the current filter\n            return false;\n        });\n    }\n    setAccounts(accounts) {\n        this.filterAccounts = accounts;\n        this.filterUpdated();\n    }\n}\n/**\n * Register the file list filter by owner or sharees\n */\nexport function registerAccountFilter() {\n    registerFileListFilter(new AccountFilter());\n}\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { addNewFileMenuEntry, registerDavProperty } from '@nextcloud/files';\nimport registerSharingViews from './views/shares';\nimport { entry as newFileRequest } from './new/newFileRequest';\nimport './actions/acceptShareAction';\nimport './actions/openInFilesAction';\nimport './actions/rejectShareAction';\nimport './actions/restoreShareAction';\nimport './actions/sharingStatusAction';\nimport { registerAccountFilter } from './filters/AccountFilter';\nregisterSharingViews();\naddNewFileMenuEntry(newFileRequest);\nregisterDavProperty('nc:sharees', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('nc:share-attributes', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('oc:share-types', { oc: 'http://owncloud.org/ns' });\nregisterDavProperty('ocs:share-permissions', { ocs: 'http://open-collaboration-services.org/ns' });\nregisterAccountFilter();\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getCapabilities } from '@nextcloud/capabilities';\nexport default class Config {\n    _capabilities;\n    constructor() {\n        this._capabilities = getCapabilities();\n    }\n    /**\n     * Get default share permissions, if any\n     */\n    get defaultPermissions() {\n        return this._capabilities.files_sharing?.default_permissions;\n    }\n    /**\n     * Is public upload allowed on link shares ?\n     * This covers File request and Full upload/edit option.\n     */\n    get isPublicUploadEnabled() {\n        return this._capabilities.files_sharing?.public?.upload === true;\n    }\n    /**\n     * Get the federated sharing documentation link\n     */\n    get federatedShareDocLink() {\n        return window.OC.appConfig.core.federatedCloudShareDoc;\n    }\n    /**\n     * Get the default link share expiration date\n     */\n    get defaultExpirationDate() {\n        if (this.isDefaultExpireDateEnabled && this.defaultExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Get the default internal expiration date\n     */\n    get defaultInternalExpirationDate() {\n        if (this.isDefaultInternalExpireDateEnabled && this.defaultInternalExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultInternalExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Get the default remote expiration date\n     */\n    get defaultRemoteExpirationDateString() {\n        if (this.isDefaultRemoteExpireDateEnabled && this.defaultRemoteExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultRemoteExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Are link shares password-enforced ?\n     */\n    get enforcePasswordForPublicLink() {\n        return window.OC.appConfig.core.enforcePasswordForPublicLink === true;\n    }\n    /**\n     * Is password asked by default on link shares ?\n     */\n    get enableLinkPasswordByDefault() {\n        return window.OC.appConfig.core.enableLinkPasswordByDefault === true;\n    }\n    /**\n     * Is link shares expiration enforced ?\n     */\n    get isDefaultExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new link shares ?\n     */\n    get isDefaultExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultExpireDateEnabled === true;\n    }\n    /**\n     * Is internal shares expiration enforced ?\n     */\n    get isDefaultInternalExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultInternalExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new internal shares ?\n     */\n    get isDefaultInternalExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultInternalExpireDateEnabled === true;\n    }\n    /**\n     * Is remote shares expiration enforced ?\n     */\n    get isDefaultRemoteExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultRemoteExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new remote shares ?\n     */\n    get isDefaultRemoteExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultRemoteExpireDateEnabled === true;\n    }\n    /**\n     * Are users on this server allowed to send shares to other servers ?\n     */\n    get isRemoteShareAllowed() {\n        return window.OC.appConfig.core.remoteShareAllowed === true;\n    }\n    /**\n     * Is public sharing enabled ?\n     */\n    get isPublicShareAllowed() {\n        return this._capabilities?.files_sharing?.public?.enabled === true;\n    }\n    /**\n     * Is sharing my mail (link share) enabled ?\n     */\n    get isMailShareAllowed() {\n        // eslint-disable-next-line camelcase\n        return this._capabilities?.files_sharing?.sharebymail?.enabled === true\n            // eslint-disable-next-line camelcase\n            && this.isPublicShareAllowed === true;\n    }\n    /**\n     * Get the default days to link shares expiration\n     */\n    get defaultExpireDate() {\n        return window.OC.appConfig.core.defaultExpireDate;\n    }\n    /**\n     * Get the default days to internal shares expiration\n     */\n    get defaultInternalExpireDate() {\n        return window.OC.appConfig.core.defaultInternalExpireDate;\n    }\n    /**\n     * Get the default days to remote shares expiration\n     */\n    get defaultRemoteExpireDate() {\n        return window.OC.appConfig.core.defaultRemoteExpireDate;\n    }\n    /**\n     * Is resharing allowed ?\n     */\n    get isResharingAllowed() {\n        return window.OC.appConfig.core.resharingAllowed === true;\n    }\n    /**\n     * Is password enforced for mail shares ?\n     */\n    get isPasswordForMailSharesRequired() {\n        return this._capabilities.files_sharing?.sharebymail?.password?.enforced === true;\n    }\n    /**\n     * Always show the email or userid unique sharee label if enabled by the admin\n     */\n    get shouldAlwaysShowUnique() {\n        return this._capabilities.files_sharing?.sharee?.always_show_unique === true;\n    }\n    /**\n     * Is sharing with groups allowed ?\n     */\n    get allowGroupSharing() {\n        return window.OC.appConfig.core.allowGroupSharing === true;\n    }\n    /**\n     * Get the maximum results of a share search\n     */\n    get maxAutocompleteResults() {\n        return parseInt(window.OC.config['sharing.maxAutocompleteResults'], 10) || 25;\n    }\n    /**\n     * Get the minimal string length\n     * to initiate a share search\n     */\n    get minSearchStringLength() {\n        return parseInt(window.OC.config['sharing.minSearchStringLength'], 10) || 0;\n    }\n    /**\n     * Get the password policy configuration\n     */\n    get passwordPolicy() {\n        return this._capabilities?.password_policy || {};\n    }\n}\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getLoggerBuilder } from '@nextcloud/logger';\nexport default getLoggerBuilder()\n    .setApp('files_sharing')\n    .detectUser()\n    .build();\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.action-items>.files-list__row-action-sharing-status{direction:rtl;padding-right:0 !important}svg.sharing-status__avatar{height:32px !important;width:32px !important;max-height:32px !important;max-width:32px !important;border-radius:32px;overflow:hidden}`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/actions/sharingStatusAction.scss\"],\"names\":[],\"mappings\":\"AAKA,qDAEC,aAAA,CAEG,0BAAA,CAGJ,2BACC,sBAAA,CACA,qBAAA,CACA,0BAAA,CACA,yBAAA,CACA,kBAAA,CACA,eAAA\",\"sourcesContent\":[\"/**\\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n // Only when rendered inline, when not enough space, this is put in the menu\\n.action-items > .files-list__row-action-sharing-status {\\n\\t// put icon at the end of the button\\n\\tdirection: rtl;\\n\\t// align icons with textless inline actions\\n    padding-right: 0 !important;\\n}\\n\\nsvg.sharing-status__avatar {\\n\\theight: 32px !important;\\n\\twidth: 32px !important;\\n\\tmax-height: 32px !important;\\n\\tmax-width: 32px !important;\\n\\tborder-radius: 32px;\\n\\toverflow: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.file-list-filter-accounts[data-v-7eeabafe]{max-width:300px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/FileListFilterAccount.vue\"],\"names\":[],\"mappings\":\"AACA,4CACC,eAAA\",\"sourcesContent\":[\"\\n.file-list-filter-accounts {\\n\\tmax-width: 300px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + chunkId + \".js?v=\" + {\"857\":\"7e2e213ab986188c7a5e\",\"4254\":\"5c2324570f66dff0c8a1\",\"8832\":\"63d606faedbda66c2767\",\"9480\":\"26f38e1d6dabdd83315b\"}[chunkId] + \"\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 5928;","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t5928: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [4208], () => (__webpack_require__(19657)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","dataWebpackPrefix","rootPath","concat","_getCurrentUser","getCurrentUser","uid","headers","ocsEntryToNode","async","ocsEntry","_ocsEntry$tags","undefined","remote_id","mime","default","mimetype","getType","name","item_type","item_permissions","Permission","NONE","permissions","uid_owner","owner","displayname_owner","isFolder","hasPreview","has_preview","Node","Folder","File","fileid","file_source","id","path","file_target","source","generateRemoteUrl","replaceAll","mtime","item_mtime","Date","stime","size","item_size","root","attributes","share_type","favorite","tags","includes","window","OC","TAG_FAVORITE","error","logger","getShares","shareWithMe","arguments","length","url","generateOcsUrl","axios","get","params","shared_with_me","include_tags","getContents","_getCurrentUser2","sharedWithOthers","pendingShares","deletedshares","filterTypes","promises","push","getRemoteShares","getPendingShares","getRemotePendingShares","getDeletedShares","data","Promise","all","map","response","ocs","flat","contents","filter","node","nodes","key","_node$attributes","Object","values","reduce","acc","curr","folder","sharesViewId","sharedWithYouViewId","sharedWithOthersViewId","sharingByLinksViewId","deletedSharesViewId","pendingSharesViewId","NewFileRequestDialogVue","defineAsyncComponent","sharingConfig","Config","entry","displayName","t","iconSvgInline","order","enabled","context","SHARE","isPublicShareAllowed","handler","content","mountingPoint","document","createElement","body","appendChild","NewFileRequestDialog","Vue","render","h","props","on","close","$destroy","el","action","FileAction","n","view","exec","isRemote","remote","shareBase","post","emit","execBatch","dir","this","inline","registerFileAction","type","FileType","OCP","Files","Router","goToRoute","String","dirname","openfile","DefaultType","HIDDEN","some","ShareType","RemoteGroup","delete","getLoggerBuilder","setApp","detectUser","build","InformationSvg","_window","_ref","_nodes$0$root","OCA","Sidebar","startsWith","open","query","isDarkMode","_window$matchMedia","matchMedia","call","matches","querySelector","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","isExternal","_node$attributes2","shareTypes","ownerId","title","_node$attributes3","_node$attributes4","_node$attributes5","_node$attributes6","ownerDisplayName","Array","isArray","_node$attributes7","_node$attributes8","_node$attributes9","_node$attributes10","_getCurrentUser3","AccountPlusSvg","Link","Email","LinkSvg","Grup","AccountGroupSvg","Team","userId","isGuest","avatarUrl","generateUrl","generateAvatarSvg","_node$attributes11","_node$attributes12","_getCurrentUser4","_window$OCA","_window$OCA$setActive","READ","setActiveTab","sidebarAction","_defineComponent","__name","emits","setup","__props","expose","currentView","navigation","getNavigation","views","shallowRef","active","onUpdateActive","event","value","detail","onUpdateViews","onMounted","addEventListener","onUnmounted","removeEventListener","useNavigation","currentLocation","useBrowserLocation","availableAccounts","ref","selectedAccounts","updateAvailableAccounts","available","Map","_node$owner","_node$attributes$shar","_node$attributes$owne","has","set","user","sharees","sharee","resetFilter","watch","accounts","_ref2","watchEffect","_match","_currentLocation$valu","search","match","decodeURIComponent","__sfc","NcSelect","_c","_self","_setup","_setupProxy","staticClass","attrs","model","callback","$$v","expression","AccountFilter","FileListFilter","constructor","super","_defineProperty","mount","currentInstance","View","extend","FileListFilterAccount","$on","setAccounts","bind","$mount","filterAccounts","userIds","filterUpdated","Navigation","register","caption","emptyTitle","emptyCaption","icon","columns","parent","registerSharingViews","addNewFileMenuEntry","newFileRequest","registerDavProperty","nc","oc","registerFileListFilter","_capabilities","getCapabilities","defaultPermissions","_this$_capabilities$f","files_sharing","default_permissions","isPublicUploadEnabled","_this$_capabilities$f2","public","upload","federatedShareDocLink","appConfig","core","federatedCloudShareDoc","defaultExpirationDate","isDefaultExpireDateEnabled","defaultExpireDate","setDate","getDate","defaultInternalExpirationDate","isDefaultInternalExpireDateEnabled","defaultInternalExpireDate","defaultRemoteExpirationDateString","isDefaultRemoteExpireDateEnabled","defaultRemoteExpireDate","enforcePasswordForPublicLink","enableLinkPasswordByDefault","isDefaultExpireDateEnforced","defaultExpireDateEnforced","defaultExpireDateEnabled","isDefaultInternalExpireDateEnforced","defaultInternalExpireDateEnforced","defaultInternalExpireDateEnabled","isDefaultRemoteExpireDateEnforced","defaultRemoteExpireDateEnforced","defaultRemoteExpireDateEnabled","isRemoteShareAllowed","remoteShareAllowed","_this$_capabilities","isMailShareAllowed","_this$_capabilities2","sharebymail","isResharingAllowed","resharingAllowed","isPasswordForMailSharesRequired","_this$_capabilities$f3","password","enforced","shouldAlwaysShowUnique","_this$_capabilities$f4","always_show_unique","allowGroupSharing","maxAutocompleteResults","parseInt","config","minSearchStringLength","passwordPolicy","_this$_capabilities3","password_policy","___CSS_LOADER_EXPORT___","module","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","loaded","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","f","e","chunkId","u","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","setTimeout","target","head","Symbol","toStringTag","nmd","paths","children","scriptUrl","importScripts","location","currentScript","test","Error","replace","p","b","baseURI","self","href","installedChunks","installedChunkData","promise","resolve","reject","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}